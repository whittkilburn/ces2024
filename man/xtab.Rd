% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/xtab.R
\name{xtab}
\alias{xtab}
\title{Two-way weighted cross-tabulation for CES 2024}
\usage{
xtab(rowvar, colvar, percent = none, decimals = 0, drop_na = TRUE)
}
\arguments{
\item{rowvar}{A bare variable name for the table rows (e.g., \code{pid7}).}

\item{colvar}{A bare variable name for the table columns (e.g., \code{educ}).}

\item{percent}{One of \code{none}, \code{row}, or \code{column}. You may pass
it unquoted as \code{none}, \code{row}, or \code{column} (default \code{none}).}

\item{decimals}{Integer; number of decimal places to display for percentages
(default \code{0}).}

\item{drop_na}{Logical; drop NA categories (default \code{TRUE}).}
}
\value{
A \pkg{gt} table with weighted frequencies (rounded up) and, if requested,
row or column percentages.
}
\description{
Produce a weighted cross-tabulation for two CES variables, with frequencies
and optional row or column percentages, formatted as a \pkg{gt} table.
The function filters out missing weights and missing values on both variables,
constructs a one-stage survey design with \code{commonpostweight}, and
returns a table with per-column spanners (n and \%).
}
\examples{
\dontrun{
# Frequencies only (default)
xtab(pid7, educ)

# Column percentages (columns sum to 100)
xtab(pid7, educ, column)

# Row percentages (rows sum to 100), show 1 decimal
xtab(pid7, educ, row, decimals = 1)
}
}
